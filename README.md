# Трусковкий Георгий 4 Лабораторная

Концепт:
P2P чат работающий на TCP, работает как federation, один узел делает serve, другие могут к нему подключиться и обмениваться XML-сообщениями. К минусам концепта относится то, что одновременно общение обеспечивается максимум между двумя пользователями со стороны подключившегося, клиент держащий порт может общаться со всеми peer`ами.
Обмен проходит с помощью TCP, в payload загружается XML сообщение.

## Ключи:
* Serve - нужен для создания принимающего peer 
  * port/p - порт, который занимает peer
  * key/k - PSK для авторизации, задаётся по желанию пользователя, иначе будет сгенерирован ключ длиной 32 байта
  * name/n - никнейм который отображается в мессендежере

* connect - подключение к раздающему peer 
  * host/h - Ipv4 адрес машины
  * port/p - порт, на котором работает принимающий peer 
  * key/k - обязательный PSK необходимый для рукопожатия
  * name/n - никнейм который отображается в мессендежере

## Команды внутри мессенджера:
* /help - выводит справку о командах
* /peers - список подключенных peer`ов
* /msg "peer" "text" - отправить сообщение подключенному пиру
* /use "peer" выбрать peer для обмена сообщениями, после команды можно будет писать сообщения без /msg
* /history - история команд
* !"n" - повторить команду из /history
* /quit - выйти

